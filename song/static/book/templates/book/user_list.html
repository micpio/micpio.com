{%extends 'book/base.html'%}

<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>{%block title%} Books Read page{%endblock%}</title>
</head>

<body>

  {%block pagecontent%}

  <div class="page-header">
 

    <h1 style="color:darkgoldenrod"> {{count}} Books </h1>

  </div>



  <table class="table table-bordered" style="color:darkgoldenrod">
    <thead>
      <tr>
        <th>Title</th>
        <th>Author</th>
        <th>Category</th>
      
      </tr>
    </thead>
    <tbody>
      {% for user in users %}
      <tr>
        <td><a href="/book/show/{{ user.id }}">{{ user.book_title }}</a></td>
        <td>{{ user.authors }}</td>
        <td>{{ user.category }}</td>
      
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <nav style="color:darkgoldenrod">
    {% if users.has_other_pages %}
    <ul class="pagination ">
      {% if users.has_previous %}
      <li class='page-item'><a class='page-link' href="?page={{ users.previous_page_number }}">&laquo;</a></li>
      {% else %}
      <li class='page-item'><span>&laquo;</span></li>
      {% endif %}
      {% for i in users.paginator.page_range %}
      {% if users.number == i %}
      <li class='page-item' class="active"><span> <span class="">(current)</span></span></li>
      {% else %}
      <li class='page-item'><a class='page-link' href="?page={{ i }}">{{ i }}</a></li>
      {% endif %}
      {% endfor %}
      {% if users.has_next %}
      <li class='page-item'><a class='page-link' href="?page={{ users.next_page_number }}">&raquo;</a></li>
      {% else %}
      <li class='page-item' ><span>&raquo;</span></li>
      {% endif %}
    </ul>


  </nav>
  {% endif %}
<br>
  <p style="color:darkgoldenrod">Search by Author</p>

  <form  style="color:darkgoldenrod" action="{% url 'search_results' %}" method="get">
    <input style="color:darkgoldenrod" name="q" type="text" placeholder="Author ">
    <button  style="color:darkgoldenrod" type="submit"  value="Submit">Submit</button>
      </form>
  <br>
  
  <br>
  {%endblock%}
